# v1.0.1

## 🚀 性能优化

### 📊 订单簿请求优化
* 优化订单簿获取逻辑，仅在需要时请求，避免不必要的 API 调用
* 当未配置需要订单簿的过滤条件（价差、订单深度）时，跳过订单簿获取
* 订单簿只请求一次，在过滤检查中复用，提高性能

### 💰 卖出价格计算优化
* 卖出改为市价卖出：优先使用订单簿的 bestBid（最高买入价）
* 如果 bestBid 获取失败，自动降级使用 Leader 的交易价格
* 卖出价格固定按 90% 计算，不再使用价格容忍度配置
* 提高卖出订单的成交率

### ⚙️ 价格容忍度默认值
* 如果价格容忍度配置为 0，自动使用默认值 5%
* 确保买入订单能够正常应用价格调整，提高成交率

## 🔧 代码优化

### 🎯 使用枚举优化过滤逻辑
* 新增 `FilterResult` 数据类和 `FilterStatus` 枚举
* 使用类型安全的枚举替代字符串判断，提高代码可维护性
* 移除无用字段 `isBuyOrder` 参数
* 优化 `checkFilters` 方法返回值，使用数据类封装结果

### 📝 代码结构优化
* 减少 if-else 嵌套，使用 Kotlin 链式调用和空安全操作符
* 优化卖出价格计算逻辑，使用 `runCatching` 和 `?.let` 简化代码
* 提取公共方法 `calculateFallbackSellPrice`，提高代码复用性

## 🗑️ 功能移除

### 移除最小订单簿深度功能
* 移除 `minOrderbookDepth`（最小订单簿深度）配置项
* 简化过滤逻辑，只保留 `minOrderDepth`（最小订单深度）
* 更新前端界面，移除相关配置项和提示文案

### 优化最小订单深度逻辑
* 修改 `minOrderDepth` 检查逻辑，检查所有方向（买盘+卖盘）的总深度
* 不再区分买卖方向，提供更全面的市场流动性评估

## 🐛 Bug 修复

* 修复盈亏和持仓价值计算逻辑未实现的问题
* 修复过滤检查中订单簿可能重复请求的问题

## 📚 文档更新

* 更新前端多语言文案，优化提示信息
* 移除最小订单簿深度相关的文档说明

**Full Changelog**: https://github.com/WrBug/polymarket-bot/compare/v1.0.0...v1.0.1

